<!--
 * @Author: wjn
 * @Date: 2020-10-15 10:05:18
 * @LastEditors: wjn
 * @LastEditTime: 2020-10-17 10:32:13
-->
1. [无法获取到表名注释](https://stackoverflow.com/questions/14146230/retrieve-mysql-table-comment-using-databasemetadata)

    url需要添加  useInformationSchema=true


```
    # 将所有参数装入java.util.Properties 对象
    Properties props = new Properties();
    props.setProperty("username",this.username);
    props.setProperty("password",this.password); 
    props.setProperty("useInformationSchema", "true");
    # 调用getConnection(String,Properties)方法创建连接
    this.pConnection = java.sql.DriverManager.getConnection(this.url, props);
```
```
private List<String> getTableNames(DatabaseMetaData md) throws SQLException {
        ArrayList<String> tables = new ArrayList<String>();
        ResultSet rs = md.getTables(null, null, "", null);
        while (rs.next()) {
            tables.add(rs.getString("TABLE_NAME")); //Column 3 is for table name
            Logger.getLogger(CodeContainingClass.class.getName()).
                    info("Comment: " + rs.getString("REMARKS")); //Column 5 is for remarks
        }
        return tables;
}
```
https://www.progress.com/blogs/jdbc-tutorial-extracting-database-metadata-via-jdbc-driver
```
ResultSet columns = databaseMetaData.getColumns(null,null, tableName, null);
while(columns.next())
{
    String columnName = columns.getString("COLUMN_NAME");
    String datatype = columns.getString("DATA_TYPE");
    String columnsize = columns.getString("COLUMN_SIZE");
    String decimaldigits = columns.getString("DECIMAL_DIGITS");
    String isNullable = columns.getString("IS_NULLABLE");
    String is_autoIncrment = columns.getString("IS_AUTOINCREMENT");
    //Printing results
    System.out.println(columnName + "---" + datatype + "---" + columnsize + "---" + decimaldigits + "---" + isNullable + "---" + is_autoIncrment);
}
```

[oracle](https://stackoverflow.com/questions/37612183/how-to-get-column-comments-in-jdbc) 


[sqlserver](https://github.com/microsoft/mssql-jdbc/issues/646)


https://www.cnblogs.com/chenxizhang/archive/2009/03/26/1422709.html

USE AdventureWorks;
GO
SELECT objtype, objname, name, value
FROM fn_listextendedproperty (NULL, 'schema', 'dbo', 'table', default, NULL, NULL);
GO



1. com.microsoft.sqlserver.jdbc.SQLServerException: 该连接已关闭(com.microsoft.sqlserver.jdbc.SQLServerException: 不支持“variant”数据类型。)


String sql = String.format("USE %s; SELECT objname as name, CONVERT(nvarchar(50),ISNULL(value, '')) as comment,objtype as type FROM fn_listextendedproperty (NULL, 'schema', 'dbo', 'table', default, NULL, NULL);", this.jdbcSourceInfo.getDatabase());




# hive 

java.lang.NoClassDefFoundError: org/apache/hadoop/conf/Configuration

<dependency>
    <groupId>org.apache.hadoop</groupId>
    <artifactId>hadoop-client</artifactId>
    <version>2.7.7</version>
</dependency>

<dependency>
  <groupId>org.apache.hadoop</groupId>
  <artifactId>hadoop-common</artifactId>
  <version>2.7.7</version>
</dependency>